const cartLinks=document.querySelectorAll(".button--icon-start"),cartPopup=document.querySelector(".modal-book"),cartClose=cartPopup.querySelector(".modal-close"),cartContinue=cartPopup.querySelector(".modal-button-continue");cartLinks.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),cartPopup.classList.add("modal-show")})}),cartClose.addEventListener("click",function(e){e.preventDefault(),cartPopup.classList.remove("modal-show")}),cartContinue.addEventListener("click",function(e){e.preventDefault(),cartPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&cartPopup.classList.contains("modal-show")&&(e.preventDefault(),cartPopup.classList.remove("modal-show"))});const letterLink=document.querySelector(".letter"),letterPopup=document.querySelector(".modal-letter"),letterClose=letterPopup.querySelector(".modal-close"),letterForm=letterPopup.querySelector(".letter-form"),letterName=letterPopup.querySelector(".input-name"),letterEmail=letterPopup.querySelector(".input-e-mail"),letterText=letterPopup.querySelector(".input-textarea");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("name")}catch(e){isStorageSupport=!1}letterLink.addEventListener("click",function(e){e.preventDefault(),letterPopup.classList.add("modal-show"),storage?(letterName.value=storage,letterEmail.focus()):letterName.focus()}),letterClose.addEventListener("click",function(e){e.preventDefault(),letterPopup.classList.remove("modal-show"),letterPopup.classList.remove("modal-error")}),letterForm.addEventListener("submit",function(e){letterName.value&&letterEmail.value&&letterText.value?isStorageSupport&&localStorage.setItem("name",letterName.value):(e.preventDefault(),letterPopup.classList.remove("modal-error"),letterPopup.offsetWidth=letterPopup.offsetWidth,letterPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&letterPopup.classList.contains("modal-show")&&(e.preventDefault(),letterPopup.classList.remove("modal-show"),letterPopup.classList.remove("modal-error"))});const mapLink=document.querySelector(".map"),mapPopup=document.querySelector(".modal-map"),mapClose=mapPopup.querySelector(".modal-close");mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-show")}),mapClose.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&mapPopup.classList.contains("modal-show")&&(e.preventDefault(),mapPopup.classList.remove("modal-show"))});const serviceLinks=document.querySelectorAll(".service-list li a"),serviceContents=document.querySelectorAll(".service .service-content");function getIndexElement(e){return Array.from(e.parentElement.children).indexOf(e)}serviceLinks.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();let t=this.parentNode;Array.from(t.parentElement.children).forEach(function(e){e.classList.remove("checked")}),t.classList.add("checked");e=getIndexElement(t);serviceContents.forEach(function(e){e.style.display="none"}),serviceContents[e].style.display="block"})});const slider=document.querySelector(".gallery-content");if(slider){let t=0;const v=Array.from(slider.querySelectorAll(".slider-item")),w=Array.from(slider.querySelectorAll(".slider-controls button")),x=slider.querySelector(".button-left"),y=slider.querySelector(".button-right"),z=()=>{0===Number(t)?(y.removeAttribute("disabled"),x.setAttribute("disabled","")):Number(t)===v.length-1?(x.removeAttribute("disabled"),y.setAttribute("disabled","")):(x.removeAttribute("disabled"),y.removeAttribute("disabled"))};z();const A=()=>{0<t&&(t--,z(),v[t+1].classList.remove("slide-current"),v[t].classList.add("slide-current"),w[t+1].classList.remove("current"),w[t].classList.add("current"))},B=()=>{t<v.length-1&&(t++,z(),v[t-1].classList.remove("slide-current"),v[t].classList.add("slide-current"),w[t-1].classList.remove("current"),w[t].classList.add("current"))},C=()=>{z(),v.forEach(e=>{e.classList.remove("slide-current")}),w.forEach(e=>{e.classList.remove("current")}),v[t].classList.add("slide-current"),w[t].classList.add("current")},D=e=>{switch(e){case"PREV":A();break;case"NEXT":B();break;case"DOTS":C()}};x.addEventListener("click",()=>{D("PREV")}),y.addEventListener("click",()=>{D("NEXT")}),w.forEach(e=>{e.addEventListener("click",()=>{t=e.dataset.slide,D("DOTS")})})}
