const cartLinks=document.querySelectorAll(".button--icon-start"),cartPopup=document.querySelector(".modal-book"),cartClose=cartPopup.querySelector(".modal-close"),cartContinue=cartPopup.querySelector(".modal-button-continue");cartLinks.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),cartPopup.classList.add("modal-show")})}),cartClose.addEventListener("click",function(e){e.preventDefault(),cartPopup.classList.remove("modal-show")}),cartContinue.addEventListener("click",function(e){e.preventDefault(),cartPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&cartPopup.classList.contains("modal-show")&&(e.preventDefault(),cartPopup.classList.remove("modal-show"))});const letterLink=document.querySelector(".letter"),letterPopup=document.querySelector(".modal-letter");if(letterPopup){const f=letterPopup.querySelector(".modal-close"),g=letterPopup.querySelector(".letter-form"),h=letterPopup.querySelector(".input-name"),i=letterPopup.querySelector(".input-e-mail"),j=letterPopup.querySelector(".input-textarea");let t=!0,r="";try{r=localStorage.getItem("name")}catch(e){t=!1}letterLink.addEventListener("click",function(e){e.preventDefault(),letterPopup.classList.add("modal-show"),r?(h.value=r,i.focus()):h.focus()}),f&&f.addEventListener("click",function(e){e.preventDefault(),letterPopup.classList.remove("modal-show"),letterPopup.classList.remove("modal-error")}),g&&g.addEventListener("submit",function(e){h.value&&i.value&&j.value?t&&localStorage.setItem("name",h.value):(e.preventDefault(),letterPopup.classList.remove("modal-error"),letterPopup.offsetWidth=letterPopup.offsetWidth,letterPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&letterPopup.classList.contains("modal-show")&&(e.preventDefault(),letterPopup.classList.remove("modal-show"),letterPopup.classList.remove("modal-error"))})}const mapLink=document.querySelector(".map"),mapPopup=document.querySelector(".modal-map");if(mapPopup){const r=mapPopup.querySelector(".modal-close");mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-show")}),r.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&mapPopup.classList.contains("modal-show")&&(e.preventDefault(),mapPopup.classList.remove("modal-show"))})}const serviceLinks=document.querySelectorAll(".service-list li a"),serviceContents=document.querySelectorAll(".service .service-content");function getIndexElement(e){return Array.from(e.parentElement.children).indexOf(e)}serviceLinks.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();let t=this.parentNode;Array.from(t.parentElement.children).forEach(function(e){e.classList.remove("checked")}),t.classList.add("checked");e=getIndexElement(t);serviceContents.forEach(function(e){e.style.display="none"}),serviceContents[e].style.display="block"})});const slider=document.querySelector(".gallery-content");if(slider){let t=0;const D=Array.from(slider.querySelectorAll(".slider-item")),E=Array.from(slider.querySelectorAll(".slider-controls button")),F=slider.querySelector(".button-left"),G=slider.querySelector(".button-right"),H=()=>{0===Number(t)?(G.removeAttribute("disabled"),F.setAttribute("disabled","")):Number(t)===D.length-1?(F.removeAttribute("disabled"),G.setAttribute("disabled","")):(F.removeAttribute("disabled"),G.removeAttribute("disabled"))};H();const I=()=>{0<t&&(t--,H(),D[t+1].classList.remove("slide-current"),D[t].classList.add("slide-current"),E[t+1].classList.remove("current"),E[t].classList.add("current"))},J=()=>{t<D.length-1&&(t++,H(),D[t-1].classList.remove("slide-current"),D[t].classList.add("slide-current"),E[t-1].classList.remove("current"),E[t].classList.add("current"))},K=()=>{H(),D.forEach(e=>{e.classList.remove("slide-current")}),E.forEach(e=>{e.classList.remove("current")}),D[t].classList.add("slide-current"),E[t].classList.add("current")},L=e=>{switch(e){case"PREV":I();break;case"NEXT":J();break;case"DOTS":K()}};F.addEventListener("click",()=>{L("PREV")}),G.addEventListener("click",()=>{L("NEXT")}),E.forEach(e=>{e.addEventListener("click",()=>{t=e.dataset.slide,L("DOTS")})})}
